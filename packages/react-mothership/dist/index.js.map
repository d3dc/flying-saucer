{"version":3,"file":"index.js","sources":["../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../src/context.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../src/scope/context.js","../src/path.js","../src/scope/Scope.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js","../src/store/bindings.js","../src/store/rematchPreset.js","../src/store/createStore.js","../src/app/createApp.js","../src/app/Mothership.js","../src/app/bindings.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../src/feature/Boundary.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../bundle-react-flying-saucer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/router.js","../src/feature/createRoutes.js","../src/feature/createFeature.js"],"sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import { createContext, useContext } from 'react'\n\nexport const context = createContext(null)\nexport const useApp = ~useContext(context)\nexport const { Provider } = context\n\nexport default context\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import setPrototypeOf from \"./setPrototypeOf\";\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","import { createContext, useContext } from 'react'\nimport { get } from 'lodash'\n\nclass NotProvidedInScopeError extends Error {\n  constructor(path, scope) {\n    super(`Path \"${path}\" not provided by feature \"${scope}\"`)\n    this.name = 'ViewNotFoundError'\n  }\n}\n\nexport const context = createContext({\n  name: 'root',\n  views: {},\n  provides: {},\n})\n\n// toolkit\nexport const useScope = ~useContext(context)\n// user\nexport const useProvided = (...deps) => {\n  const scope = useContext(context)\n  return deps.map(path => {\n    const val = get(scope.provides, path)\n    if (val === undefined) {\n      throw new NotProvidedInScopeError(path, scope.name)\n    }\n    return val\n  })\n}\n","import { trimStart, trimEnd } from 'lodash'\n\nexport function pathJoin(...parts) {\n  const slash = '/'\n  return parts.reduce((acc, p) => {\n    return p === slash\n      ? acc // preserve trailing slash\n      : [trimEnd(acc, slash), trimStart(p, slash)].join(slash)\n  })\n}\n\nexport function addLinks(dest, basePath, views) {\n  views.forEach(view => {\n    if (view.name) {\n      dest[view.name] = {\n        exact: view.exact,\n        resolve: view.resolve\n          ? (...args) => pathJoin(basePath, view.resolve(...args))\n          : () => pathJoin(basePath, view.path),\n      }\n    }\n  })\n}\n","import { Children, useMemo } from 'react'\nimport { merge } from 'lodash'\nimport { addLinks, pathJoin } from '../path'\nimport { useApp } from '../context'\nimport { context, useScope } from './context'\n\n/**\n * Primitive used by Features and Mothership\n * for providing their context\n\n * @param       {string} basePath\n *              base path for views\n *\n * @param       {ReactElement | ReactElement[]} hoist\n *              react children to visit while looking for\n *              values to hoist in this scope\n *\n * @param       {ReactElement | ReactElement[][type]} children\n *              rendered react children\n *\n * @param       {...} rest\n *              any additional values that should be defined in scope\n *\n */\nfunction Scope({ basePath, hoist, children, ...rest }) {\n  const parent = useScope()\n  const views = useViews(basePath, hoist)\n  const scope = merge({ views }, parent, rest)\n\n  useModels(hoist, scope)\n\n  return <context.Provider value={scope} children={children} />\n}\n\nScope.displayName = 'Scope'\n\nfunction useViews(basePath, hoisted) {\n  return useMemo(\n    () => {\n      const views = {}\n      Children.forEach(hoisted, child => {\n        const featureName = child.type.featureConfig?.name\n        const featureViews = child.type.featureConfig?.views\n        const featurePath = pathJoin(basePath, child.props.path)\n\n        if (featureName) {\n          addLinks(views, featurePath, [\n            {\n              name: featureName,\n              exact: child.props.exact,\n              path: '/',\n            },\n          ])\n        }\n\n        if (featureViews) {\n          addLinks(views, featurePath, featureViews)\n        }\n      })\n      return views\n    },\n    [basePath, hoisted]\n  )\n}\n\nfunction useModels(hoisted, scope) {\n  const app = useApp()\n\n  // TODO: layout effect\n  useMemo(\n    () =>\n      Children.forEach(hoisted, child => {\n        const featureModels = child.type.featureConfig?.models\n\n        if (!featureModels) {\n          return\n        }\n\n        app.registerModels(featureModels, scope)\n      }),\n    [app, hoisted]\n  )\n}\n\nexport default Scope\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import { memo, createElement, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { useApp } from '../context'\n\nexport { connect } from 'react-redux'\n\nexport const withDispatch = connect(\n  null,\n  _\n)\n\nexport const useAppEffect = (mapDispatch, watch) => {\n  const app = useApp()\n  useEffect(() => {\n    mapDispatch(app.store.dispatch)\n  }, watch)\n}\n\nexport const sconnect = (mapSelect, mapDispatch) => Base => {\n  const c = memo(props => {\n    const app = useApp()\n    const enhance = connect(\n      app.store.select(mapSelect),\n      mapDispatch\n    )\n\n    return createElement(enhance(Base), props)\n  })\n\n  c.displayName = `sconnect(${Base.displayName || Base.name || 'Component'})`\n\n  return c\n}\n\nexport const $$ = sconnect\nexport const _$ = withDispatch\n","import selectPlugin from '@rematch/select'\n\nexport default {\n  plugins: [selectPlugin()],\n}\n","import { init } from '@rematch/core'\nimport preset from './rematchPreset'\n\nexport default config =>\n  init({\n    ...preset,\n    ...config,\n  })\n","import { mapValues } from 'lodash'\nimport { createBrowserHistory } from 'history'\nimport { createStore } from '../store'\n\n// interface FlyingSaucerApp<ReduxStore, Model> {\n//   store: ReduxStore;\n//   history: History;\n//   registerModels: (models: Model[], scope: Scope) => void;\n//   navigate: (views: { [name]: View }) => { [name]: () => void }\n// }\n\nfunction enhance(model, inject) {\n  return {\n    ...model,\n    effects:\n      typeof model.effects === 'function'\n        ? (...args) => model.effects(...args, inject)\n        : model.effects,\n    selectors:\n      typeof model.selectors === 'function'\n        ? (...args) => model.selectors(...args, inject)\n        : model.selectors,\n  }\n}\n\n/**\n * Create the default kind of app using rematch redux and overloading models with inject.\n *\n * @param {{ rematch: RematchConfig, inject: {} }} config\n *\n * @returns FlyingSaucerApp<RematchStore, RematchModel>\n */\nexport default function createApp(config = {}) {\n  const registeredModels = {}\n  const store = createStore(config.rematch)\n  const { select, dispatch, getState } = store\n  const history = createBrowserHistory()\n\n  const inject = {\n    ...config.inject,\n    select,\n    dispatch,\n    getState,\n  }\n\n  function navigate(views) {\n    return mapValues(views, v => (...args) => history.push(v.resolve(...args)))\n  }\n\n  function registerModels(models, scope) {\n    models.forEach(model => {\n      if (registeredModels[model.name] !== model) {\n        const injected = { ...inject, navigator: navigate(scope.views) }\n        registeredModels[model.name] = model\n        store.model(enhance(model, injected))\n      }\n    })\n  }\n\n  return {\n    store,\n    history,\n    registerModels,\n    navigate,\n  }\n}\n","import { Router } from 'react-router'\nimport { Provider as StoreProvider } from 'react-redux'\nimport { Provider as AppProvider } from '../context'\nimport { Scope } from '../scope'\n\nimport createApp from './createApp'\n\nexport default function Mothership({ app = createApp(), children, ...rest }) {\n  return (\n    <AppProvider value={app}>\n      <StoreProvider store={app.store}>\n        <Scope name=\"root\" basePath=\"/\" hoist={children} provides={rest}>\n          <Router history={app.history}>{children}</Router>\n        </Scope>\n      </StoreProvider>\n    </AppProvider>\n  )\n}\n","import { useMemo } from 'react'\n\nimport { useApp } from '../context'\nimport { useScope } from '../scope'\n\nexport const useNavigator = () => {\n  const app = useApp()\n  const { views } = useScope()\n\n  return useMemo(~app.navigate(views), [app, views])\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import { Suspense, Component } from 'react'\n\nexport default class Boundary extends Component {\n  state = {\n    hasError: false,\n  }\n\n  static getDerivedStateFromError = error => ({\n    hasError: true,\n  })\n\n  render() {\n    if (this.state.hasError) {\n      const { recovery = <div>Error!</div>, ...rest } = this.props\n      return recovery\n    } else {\n      const { fallback = <div>Loading...</div>, ...rest } = this.props\n      return <Suspense fallback={fallback} {...rest} />\n    }\n  }\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","import { mapValues } from 'lodash'\nimport { createElement, useContext, useMemo } from 'react'\nimport { Redirect as BaseRedirect } from 'react-router'\nimport { Link as BaseLink, NavLink as BaseNavLink } from 'react-router-dom'\nimport { useScope } from './scope'\n\nexport class ViewNotFoundError extends Error {\n  constructor(view, scope) {\n    super(`View \"${view}\" not provided by feature \"${scope}\"`)\n    this.name = 'ViewNotFoundError'\n  }\n}\n\nconst enhance = Comp => ({ view, params, ...rest }) => {\n  const scope = useScope()\n  const [to, exact] = useMemo(\n    () => {\n      if (view) {\n        const config = scope?.views?.[view]\n        if (!config) {\n          throw new ViewNotFoundError(view, scope.name)\n        }\n        return [config.resolve(params), config.exact]\n      } else {\n        return [undefined, undefined]\n      }\n    },\n    [scope, view, params]\n  )\n\n  return createElement(Comp, {\n    to,\n    exact,\n    ...rest,\n  })\n}\n\nexport const Link = BaseLink |> enhance\nexport const NavLink = BaseNavLink |> enhance\nexport const Redirect = BaseRedirect |> enhance\nexport { Switch, Route } from 'react-router'\nexport { withRouter } from 'react-router'\n","import { Route } from 'react-router'\n\nimport { pathJoin } from '../path'\nimport { useAppEffect } from '../store'\nimport { useProvided } from '../scope'\nimport { Redirect } from '../router'\n\nexport default function createRoutes(basePath, views) {\n  return views.map(({ path, component, effect, redirect, ...rest }) => {\n    const url = pathJoin(basePath, path)\n    const render = renderHooks(\n      effect && reduxHook(effect),\n      redirect && redirectHook(redirect)\n    )\n    return (\n      <Route\n        key={url}\n        path={url}\n        render={render}\n        component={component}\n        {...rest}\n      />\n    )\n  })\n}\n\nfunction renderHooks(...hooks) {\n  const used = hooks.filter(Boolean)\n\n  if (!used.length) {\n    return undefined\n  }\n\n  return ~used.map(_.call())\n}\n\nfunction reduxHook(effect) {\n  return () => {\n    return null\n  }\n}\n\nfunction redirectHook(payload) {\n  let view, params\n  if (typeof payload === 'object') {\n    const { to, ...rest } = payload\n    view = to\n    params = rest\n  } else {\n    view = payload\n  }\n  return () => <Redirect key={view} view={view} params={params} />\n}\n","import { useMemo, memo, Children } from 'react'\nimport { partition } from 'lodash'\nimport { withRouter, Switch, Route } from 'react-router'\n\nimport { Scope, useScope } from '../scope'\nimport { useApp } from '../context'\nimport { pathJoin } from '../path'\nimport createRoutes from './createRoutes'\nimport Boundary from './Boundary'\n\nexport default function createFeature(config = {}) {\n  return Base => {\n    const name = config.name || Base.displayName || Base.name\n\n    /*\n     * \"If a Route does not have a path, and therefore always matches,\n     * you'll get the closest parent match. Same goes for withRouter.\"\"\n     *\n     * https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/match.md\n     */\n    function Feature(props) {\n      const { provides, path, exact, match, children } = props\n      const basePath = pathJoin(match.path, path)\n      const routes = useRoutes(name, basePath, config.views)\n      const [withPath, nested] = usePartition(children)\n\n      const render = () => (\n        <Boundary fallback={config.placeholder} recovery={config.recovery}>\n          <Scope\n            name={name}\n            basePath={basePath}\n            provides={{\n              ...config.provides,\n              ...provides,\n            }}\n            hoist={children}\n          >\n            <Base {...props}>\n              <Switch>\n                {routes}\n                {withPath}\n              </Switch>\n              {nested}\n            </Base>\n          </Scope>\n        </Boundary>\n      )\n\n      return path ? (\n        // Wait to mount the Base, children and routing\n        // and run any effects they have\n        <Route path={basePath} exact={exact} render={render} />\n      ) : (\n        // \"always on\"\n        render()\n      )\n    }\n\n    const Wrapper = Feature |> memo |> withRouter\n\n    Wrapper.displayName = `Feature(${name || 'Component'})`\n    Wrapper.WrappedComponent = Base\n    Wrapper.featureConfig = {\n      ...config,\n      name,\n    }\n\n    return Wrapper\n  }\n}\n\nfunction useRoutes(name, basePath, views = []) {\n  // we know name and views won't change\n  // and only need to update when paths change\n  return useMemo(() => createRoutes(basePath, views), [basePath])\n}\n\nfunction usePartition(children) {\n  return useMemo(() => partition(Children.toArray(children), _.props.path), [\n    children,\n  ])\n}\n"],"names":["_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","context","createContext","useApp","useContext","Provider","_classCallCheck","instance","Constructor","TypeError","_typeof2","obj","Symbol","iterator","constructor","_typeof","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","writable","configurable","_isNativeFunction","fn","Function","toString","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_construct","Parent","args","Class","a","push","apply","bind","arguments","_wrapNativeSuper","_cache","Map","undefined","isNativeFunction","has","get","set","Wrapper","enumerable","NotProvidedInScopeError","path","scope","name","Error","views","provides","useScope","useProvided","deps","map","val","pathJoin","slash","parts","reduce","acc","join","addLinks","dest","basePath","forEach","view","exact","resolve","Scope","hoist","children","rest","parent","useViews","useModels","displayName","hoisted","useMemo","Children","child","featureName","type","featureConfig","featureViews","featurePath","props","app","featureModels","models","registerModels","_defineProperty","defineProperty","_objectSpread","ownKeys","concat","filter","sym","getOwnPropertyDescriptor","withDispatch","connect","useAppEffect","mapDispatch","watch","useEffect","store","dispatch","sconnect","mapSelect","Base","c","memo","enhance","select","createElement","$$","_$","plugins","selectPlugin","config","init","preset","model","inject","effects","selectors","createApp","registeredModels","createStore","rematch","getState","history","createBrowserHistory","navigate","v","injected","navigator","Mothership","AppProvider","StoreProvider","useNavigator","_defineProperties","descriptor","_createClass","protoProps","staticProps","Boundary","state","hasError","recovery","fallback","Component","getDerivedStateFromError","error","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_arr","_n","_d","_e","_i","_s","next","done","err","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","nonIterableRest","ViewNotFoundError","Comp","params","to","Link","BaseLink","NavLink","BaseNavLink","Redirect","BaseRedirect","createRoutes","component","effect","redirect","url","render","renderHooks","reduxHook","redirectHook","hooks","used","Boolean","payload","createFeature","Feature","match","routes","useRoutes","usePartition","withPath","nested","placeholder","withRouter","WrappedComponent","toArray"],"mappings":"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"}